This is a new fix from branch2